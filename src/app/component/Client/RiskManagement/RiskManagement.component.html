<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Esprit Insured Life - Analyse de Risque</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
<style>
body{margin:0;padding:0;background-image:url('assets/images/background.jpg');background-size:cover;background-position:center;background-attachment:fixed;font-family:Arial,sans-serif;}
.main-container{background-color:rgba(255,255,255,0.9);border-radius:15px;padding:30px;margin:30px auto;box-shadow:0 0 20px rgba(0,0,0,0.2);}
.welcome-header{color:white;text-align:center;background-color:rgba(0,0,0,0.6);padding:20px;border-radius:10px;margin-bottom:30px;}
.risk-gauge{position:relative;}
.gauge-label{position:absolute;top:50%;left:50%;transform:translate(-50%,-30%);text-align:center;}
.bg-gradient-danger{background:linear-gradient(45deg,#ff4d4d,#dc3545);}
.bg-gradient-info{background:linear-gradient(45deg,#17a2b8,#1abc9c);}
.bg-gradient-warning{background:linear-gradient(45deg,#ffc107,#fd7e14);}
.bg-gradient-primary{background:linear-gradient(45deg,#007bff,#6610f2);}
.bg-gradient-success{background:linear-gradient(45deg,#28a745,#20c997);}
.timeline{position:relative;padding-left:50px;}
.timeline::before{content:'';position:absolute;left:20px;top:0;bottom:0;width:2px;background:#dee2e6;}
.timeline-item{position:relative;padding-bottom:25px;}
.timeline-item.current{background-color:#f8f9fa;padding:15px;border-radius:8px;margin-left:-15px;margin-right:-15px;}
.timeline-badge{position:absolute;left:-40px;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:bold;}
.trend-up{background-color:rgba(220,53,69,0.1);color:#dc3545;}
.trend-down{background-color:rgba(40,167,69,0.1);color:#28a745;}
.trend-neutral{background-color:rgba(108,117,125,0.1);color:#6c757d;}
.timeline-content{padding-left:15px;}
.risk-score-badge{display:inline-block;width:40px;height:40px;border-radius:50%;color:white;text-align:center;line-height:40px;font-weight:bold;}
.feedback-bubble{box-shadow:0 10px 20px rgba(40,167,69,0.3);animation:pulse 2s infinite;}
@keyframes pulse{0%{transform:scale(1);}50%{transform:scale(1.05);}100%{transform:scale(1);}}
.confetti{position:absolute;width:15px;height:15px;opacity:0;background-color:#f00;animation:confetti 5s ease-in-out infinite;}
.confetti:nth-child(1){background-color:#f00;left:10%;top:-10%;animation-delay:0.5s;}
.confetti:nth-child(2){background-color:#0f0;left:20%;top:-5%;animation-delay:1s;}
.confetti:nth-child(3){background-color:#00f;left:30%;top:-8%;animation-delay:1.5s;}
.confetti:nth-child(4){background-color:#ff0;left:70%;top:-10%;animation-delay:0.8s;}
.confetti:nth-child(5){background-color:#f0f;left:85%;top:-5%;animation-delay:1.2s;}
@keyframes confetti{0%{transform:translateY(0) rotate(0deg);opacity:1;}100%{transform:translateY(500px) rotate(360deg);opacity:0;}}
.z-index-1{z-index:1;}
.card{border-radius:10px;overflow:hidden;}
.card-header{border-radius:0!important;}
[data-aos]{opacity:0;transition:all 0.8s ease;}
[data-aos="fade-up"]{transform:translateY(30px);}
[data-aos="fade-left"]{transform:translateX(-30px);}
[data-aos="fade-right"]{transform:translateX(30px);}
.title-word{display:inline-block;animation:floatText 3s ease-in-out infinite;}
.title-word-2{animation-delay:0.3s;}
.title-word-3{animation-delay:0.6s;}
@keyframes floatText{0%,100%{transform:translateY(0);}50%{transform:translateY(-10px);}}
.extracted-info-card{border-left:4px solid;transition:all 0.3s ease;height:100%;}
.extracted-info-card:hover{transform:translateY(-5px);box-shadow:0 10px 20px rgba(0,0,0,0.1);}
.info-card-age{border-left-color:#17a2b8;}
.info-card-medical{border-left-color:#dc3545;}
.info-card-lifestyle{border-left-color:#28a745;}
.info-card-family{border-left-color:#6f42c1;}
.info-icon-lg{font-size:1.75rem;margin-bottom:15px;}
.info-value{font-size:1.5rem;font-weight:bold;}
.info-card{transition:all 0.3s ease;border-left:4px solid transparent;}
.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 20px rgba(0,0,0,0.1);}
.info-card.age{border-left-color:#17a2b8;}
.info-card.medical{border-left-color:#dc3545;}
.info-card.lifestyle{border-left-color:#28a745;}
.info-card.family{border-left-color:#6f42c1;}
.info-icon{font-size:1.5rem;margin-bottom:10px;}
</style>
</head>
<body>
<div class="container main-container" id="morphing-container">
<div class="welcome-header" id="animated-header">
<h1 class="title-word">
<span class="title-word title-word-1">Esprit</span>
<span class="title-word title-word-2">Insured</span>
<span class="title-word title-word-3">Life</span>
</h1>
<p class="lead">Analyse de risque intelligente et dynamique</p>
</div>
<div class="row">
<div class="col-lg-12" data-aos="fade-up">
<div class="card">
<div class="p-3">
<h4 class="card-title mb-0">
<i class="fas fa-cloud-upload-alt me-2"></i>T√©l√©versement de fichier
</h4>
</div>
<div class="card-body border-top">
<form>
<div class="mb-3">
<label for="fileInput" class="form-label">Cliquez pour s√©lectionner un fichier</label>
<input class="form-control" type="file" id="fileInput" accept="application/pdf,.doc,.docx,.jpg,.png,.jpeg"/>
</div>
<div class="d-flex justify-content-between">
<button type="submit" class="btn btn-primary">
<span class="btn-text">Envoyer</span>
</button>
<small class="text-muted">Formats autoris√©s : PDF, DOCX, JPG, PNG</small>
</div>
</form>
</div>
</div>
</div>
<div class="col-lg-12 mt-4">
<div class="card">
<div class="p-3">
<h4 class="card-title mb-0">T√©l√©versement de fichier</h4>
</div>
<div class="card-body border-top">
    <form (ngSubmit)="onSubmit()" enctype="multipart/form-data">
        <div class="form-group mb-3">
          <label for="userId" class="form-label">User ID:</label>
          <input 
            type="number" 
            id="userId" 
            class="form-control" 
            [(ngModel)]="userId" 
            name="userId" 
            required>
        </div>
      
        <div class="form-group mb-3">
          <label for="medicalRecord" class="form-label">T√©l√©verser Fichier M√©dical (.pdf):</label>
          <input 
            type="file" 
            id="medicalRecord" 
            class="form-control" 
            (change)="onFileSelected($event)" 
            accept=".pdf" 
            required>
        </div>
      
        <div class="form-group mb-3">
          <label for="riskFactorIds" class="form-label">Facteurs de Risque (IDs):</label>
          <input 
            type="text" 
            id="riskFactorIds" 
            class="form-control" 
            [(ngModel)]="riskFactorIdsInput" 
            name="riskFactorIds">
          <small class="form-text text-muted">
            Entrez les IDs des facteurs de risque s√©par√©s par des virgules (ex: 1,2,3)
          </small>
        </div>
      
        <div class="form-group mb-3">
          <label for="userWhatsapp" class="form-label">Num√©ro WhatsApp:</label>
          <input 
            type="text" 
            id="userWhatsapp" 
            class="form-control" 
            [(ngModel)]="userWhatsapp" 
            name="userWhatsapp">
        </div>
      
        <button type="submit" class="btn btn-primary mt-3">Envoyer</button>
      </form>        
</div>
</div>
</div>
<div class="col-lg-12 mt-4" data-aos="fade-up">
<div class="card shadow-sm">
<div class="card-header bg-gradient-primary text-white">
<h4 class="mb-0"><i class="fas fa-clipboard-check me-2"></i>üìã Informations Extraites</h4>
</div>
<div class="card-body">
<div class="row">
<div class="col-md-6 col-lg-3 mb-4">
<div class="card extracted-info-card info-card-age h-100">
<div class="card-body">
<div class="info-icon-lg text-info">
<i class="fas fa-birthday-cake"></i>
</div>
<h5>√Çge</h5>
<p class="info-value">42 ans</p>
<p class="text-muted small">Date de naissance: 15/03/1981</p>
</div>
</div>
</div>
<div class="col-md-6 col-lg-3 mb-4">
<div class="card extracted-info-card info-card-medical h-100">
<div class="card-body">
<div class="info-icon-lg text-danger">
<i class="fas fa-heartbeat"></i>
</div>
<h5>Historique M√©dical</h5>
<ul class="list-unstyled">
<li><i class="fas fa-check-circle text-success me-2"></i>Hypertension</li>
<li><i class="fas fa-check-circle text-success me-2"></i>Cholest√©rol √©lev√©</li>
<li><i class="fas fa-times-circle text-danger me-2"></i>Diab√®te</li>
</ul>
</div>
</div>
</div>
<div class="col-md-6 col-lg-3 mb-4">
<div class="card extracted-info-card info-card-lifestyle h-100">
<div class="card-body">
<div class="info-icon-lg text-success">
<i class="fas fa-running"></i>
</div>
<h5>Mode de Vie</h5>
<ul class="list-unstyled">
<li><i class="fas fa-smoking-ban text-danger me-2"></i>Non-fumeur</li>
<li><i class="fas fa-wine-glass-alt text-warning me-2"></i>Alcool occasionnel</li>
<li><i class="fas fa-dumbbell text-success me-2"></i>Activit√© sportive r√©guli√®re</li>
</ul>
</div>
</div>
</div>
<div class="col-md-6 col-lg-3 mb-4">
<div class="card extracted-info-card info-card-family h-100">
<div class="card-body">
<div class="info-icon-lg text-primary">
<i class="fas fa-family"></i>
</div>
<h5>Historique Familial</h5>
<ul class="list-unstyled">
<li><i class="fas fa-check-circle text-danger me-2"></i>Maladies cardiaques</li>
<li><i class="fas fa-times-circle text-success me-2"></i>Cancer</li>
<li><i class="fas fa-check-circle text-danger me-2"></i>Diab√®te</li>
</ul>
</div>
</div>
</div>
</div>
<div class="alert alert-info mt-3">
<i class="fas fa-info-circle me-2"></i>
Ces informations ont √©t√© automatiquement extraites des documents fournis. Veuillez v√©rifier leur exactitude.
</div>
</div>
</div>
</div>
<div class="col-lg-12 mt-4">
<div class="card shadow-sm">
  <div class="card-header bg-gradient-primary text-white">
    <h4 class="mb-0"><i class="fas fa-clipboard-list me-2"></i>üìã D√©tails des Informations Extraites</h4>
  </div>
  <div class="card-body">
    <!-- Champ d'entr√©e pour l'ID de l'utilisateur -->
    <div class="mb-4">
      <label for="userId" class="form-label">ID Utilisateur</label>
      <input type="number" class="form-control" id="userId" [(ngModel)]="userId" placeholder="Entrez l'ID de l'utilisateur">
    </div>
    <div class="mb-4 text-end">
      <button type="button" class="btn btn-primary" (click)="onSearch()">
        <i class="fas fa-search me-2"></i>Rechercher
      </button>
    </div>
  
    <!-- Affichage des informations de l'√©valuation de risque -->
    <div *ngIf="riskAssessment">
      <div class="row">
        <div class="col-md-6 col-lg-3 mb-4">
          <div class="card info-card age h-100">
            <div class="card-body text-center">
              <div class="info-icon text-info">
                <i class="fas fa-birthday-cake"></i>
              </div>
              <h5>√Çge</h5>
              <p class="display-6">{{ riskAssessment.age }} ans</p>
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-3 mb-4">
          <div class="card info-card medical h-100">
            <div class="card-body text-center">
              <div class="info-icon text-danger">
                <i class="fas fa-heartbeat"></i>
              </div>
              <h5>Historique M√©dical</h5>
              <ul class="list-unstyled">
                <li *ngFor="let disease of riskAssessment.chronicDiseaseArray">
                  <i class="fas fa-check text-success me-2"></i>{{ disease }}
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-3 mb-4">
          <div class="card info-card price h-100">
            <div class="card-body text-center">
              <div class="info-icon text-warning">
                <i class="fas fa-dollar-sign"></i>
              </div>
              <h5>Prix</h5>
              <p class="display-6">{{ riskAssessment.price | currency:'EUR' }}</p>
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-3 mb-4">
          <div class="card info-card risk-score h-100">
            <div class="card-body text-center">
              <div class="info-icon text-primary">
                <i class="fas fa-exclamation-triangle"></i>
              </div>
              <h5>Risk Score</h5>
              <p class="display-6">{{ riskAssessment.riskScore }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  
    <!-- Message d'erreur -->
    <div *ngIf="errorMessage" class="alert alert-danger">
      {{ errorMessage }}
    </div>
  </div>
  
<div class="alert alert-info mt-3">
<i class="fas fa-info-circle me-2"></i>
Ces informations compl√©mentaires ont √©t√© analys√©es pour le calcul du risque.
</div>
</div>
</div>
</div>
<div class="col-lg-12 mt-4" data-aos="fade-up">
<div class="card shadow-lg">
<div class="card-header bg-gradient-danger text-white">
<h4 class="mb-0">üéØ Analyse de Risque</h4>
</div>
<div class="card-body">
<div class="row align-items-center">
<div class="col-md-6 text-center">
<div class="risk-gauge mx-auto" style="width:250px;height:250px;">
<canvas id="riskGauge"></canvas>
<div class="gauge-label">
<h2 class="mb-0 fw-bold" id="riskScoreValue">72</h2>
<small class="text-muted">RISK SCORE</small>
</div>
</div>
</div>
<div class="col-md-6">
<div class="risk-category mb-4" data-aos="fade-left">
<h5 class="d-flex justify-content-between">
<span>Niveau de Risque:</span>
<span class="badge bg-danger" id="riskLevel">√âlev√©</span>
</h5>
<div class="progress" style="height:10px;">
<div class="progress-bar bg-gradient-danger" role="progressbar" style="width:72%"></div>
</div>
</div>
<div class="risk-details" data-aos="fade-left">
<h5><i class="fas fa-exclamation-triangle me-2"></i>Recommandations</h5>
<ul class="list-unstyled">
<li class="mb-2" data-aos="fade-left" data-aos-delay="100"><i class="fas fa-check-circle text-success me-2"></i>Rev√©rifier les documents joints</li>
<li class="mb-2" data-aos="fade-left" data-aos-delay="200"><i class="fas fa-check-circle text-success me-2"></i>Demander une v√©rification manuelle</li>
<li class="mb-2" data-aos="fade-left" data-aos-delay="300"><i class="fas fa-check-circle text-success me-2"></i>Contacter le client pour confirmation</li>
</ul>
</div>
<button class="btn btn-outline-danger mt-3" data-aos="fade-up">
<i class="fas fa-redo me-2"></i>Recalculer le Score
</button>
</div>
</div>
</div>
</div>
</div>
<div class="col-lg-12 mt-4">
<div class="card shadow-lg">
<div class="card-header bg-gradient-danger text-white">
<h4 class="mb-0">üéØ √âvaluation du Risque</h4>
</div>
<div class="card-body">
<div class="row align-items-center">
<div class="col-md-6 text-center">
<div class="risk-gauge mx-auto" style="width:250px;height:250px;">
<canvas id="riskGauge2"></canvas>
<div class="gauge-label">
  <h2 class="mb-0 fw-bold" id="riskScoreValue2">{{ riskAssessment.riskScore }}</h2>
<small class="text-muted">SCORE DE RISQUE</small>
</div>
</div>
</div>
<div class="col-md-6">
<div class="risk-category mb-4">
<h5 class="d-flex justify-content-between">
<span>Niveau de Risque:</span>
<span class="badge bg-danger" id="riskLevel2">√âlev√©</span>
</h5>
<div class="progress" style="height:10px;">
<div class="progress-bar bg-gradient-danger" role="progressbar" style="width:72%"></div>
</div>
</div>
<div class="risk-details">
<h5><i class="fas fa-exclamation-triangle me-2"></i>Recommandations</h5>
<ul class="list-unstyled">
<li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>Rev√©rifier les documents joints</li>
<li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>Demander une v√©rification manuelle</li>
<li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>Contacter le client pour confirmation</li>
</ul>
</div>
<button class="btn btn-outline-danger mt-3">
<i class="fas fa-redo me-2"></i>Recalculer le Score
</button>
</div>
</div>
</div>
</div>
</div>
<div class="col-lg-12 mt-4" data-aos="fade-up">
<div class="card shadow-sm">
<div class="card-header bg-gradient-info text-white">
<h4 class="mb-0">üìà Historique des Scores de Risque</h4>
</div>
<div class="card-body">
<div class="timeline">
<div class="timeline-item" data-aos="fade-right">
<div class="timeline-badge trend-up">‚Üë</div>
<div class="timeline-content">
<h6 class="mb-1">15 Juin 2023</h6>
<div class="d-flex align-items-center">
<span class="risk-score-badge" style="background-color:#28a745;">42</span>
<span class="ms-2 text-success">+8% vs pr√©c√©dent</span>
</div>
<p class="text-muted mt-1 mb-0">Premi√®re analyse apr√®s v√©rification initiale</p>
</div>
</div>
<div class="timeline-item" data-aos="fade-right" data-aos-delay="100">
<div class="timeline-badge trend-down">‚Üì</div>
<div class="timeline-content">
<h6 class="mb-1">22 Juin 2023</h6>
<div class="d-flex align-items-center">
<span class="risk-score-badge" style="background-color:#ffc107;">58</span>
<span class="ms-2 text-danger">+16%</span>
</div>
<p class="text-muted mt-1 mb-0">D√©tection d'anomalies dans les documents</p>
</div>
</div>
<div class="timeline-item" data-aos="fade-right" data-aos-delay="200">
<div class="timeline-badge trend-up">‚Üë</div>
<div class="timeline-content">
<h6 class="mb-1">30 Juin 2023</h6>
<div class="d-flex align-items-center">
<span class="risk-score-badge" style="background-color:#fd7e14;">67</span>
<span class="ms-2 text-danger">+9%</span>
</div>
<p class="text-muted mt-1 mb-0">Nouveaux documents analys√©s</p>
</div>
</div>
<div class="timeline-item current" data-aos="fade-right" data-aos-delay="300">
<div class="timeline-badge trend-up">‚Üë</div>
<div class="timeline-content">
<h6 class="mb-1">5 Juillet 2023</h6>
<div class="d-flex align-items-center">
<span class="risk-score-badge" style="background-color:#dc3545;">72</span>
<span class="ms-2 text-danger">+5%</span>
</div>
<p class="text-muted mt-1 mb-0">Analyse finale - Risque √©lev√© d√©tect√©</p>
<span class="badge bg-primary mt-2">Derni√®re mise √† jour</span>
</div>
</div>
</div>
<button class="btn btn-outline-info mt-3" data-aos="fade-up">
<i class="fas fa-history me-2"></i>Voir l'historique complet
</button>
</div>
</div>
</div>
<div class="col-lg-12 mt-4">
<div class="card shadow-sm">
<div class="card-header bg-gradient-info text-white">
<h4 class="mb-0">üìà √âvolution du Score de Risque</h4>
</div>
<div class="card-body">
<div class="timeline">
<div class="timeline-item">
<div class="timeline-badge trend-up">‚Üë</div>
<div class="timeline-content">
<h6 class="mb-1">15 Juin 2023</h6>
<div class="d-flex align-items-center">
<span class="risk-score-badge" style="background-color:#28a745;">42</span>
<span class="ms-2 text-success">+8% vs pr√©c√©dent</span>
</div>
<p class="text-muted mt-1 mb-0">Premi√®re analyse apr√®s v√©rification initiale</p>
</div>
</div>
<div class="timeline-item">
<div class="timeline-badge trend-down">‚Üì</div>
<div class="timeline-content">
<h6 class="mb-1">22 Juin 2023</h6>
<div class="d-flex align-items-center">
<span class="risk-score-badge" style="background-color:#ffc107;">58</span>
<span class="ms-2 text-danger">+16%</span>
</div>
<p class="text-muted mt-1 mb-0">D√©tection d'anomalies dans les documents</p>
</div>
</div>
<div class="timeline-item">
<div class="timeline-badge trend-up">‚Üë</div>
<div class="timeline-content">
<h6 class="mb-1">30 Juin 2023</h6>
<div class="d-flex align-items-center">
<span class="risk-score-badge" style="background-color:#fd7e14;">67</span>
<span class="ms-2 text-danger">+9%</span>
</div>
<p class="text-muted mt-1 mb-0">Nouveaux documents analys√©s</p>
</div>
</div>
<div class="timeline-item current">
<div class="timeline-badge trend-up">‚Üë</div>
<div class="timeline-content">
<h6 class="mb-1">5 Juillet 2023</h6>
<div class="d-flex align-items-center">
<span class="risk-score-badge" style="background-color:#dc3545;">72</span>
<span class="ms-2 text-danger">+5%</span>
</div>
<p class="text-muted mt-1 mb-0">Analyse finale - Risque √©lev√© d√©tect√©</p>
<span class="badge bg-primary mt-2">Derni√®re mise √† jour</span>
</div>
</div>
</div>
<button class="btn btn-outline-info mt-3">
<i class="fas fa-history me-2"></i>Voir l'historique complet
</button>
</div>
</div>
</div>
<div class="col-lg-12 mt-4" data-aos="fade-up">
<div class="card border-0 shadow-sm">
<div class="card-body text-center p-4 position-relative overflow-hidden">
<div class="confetti"></div>
<div class="confetti"></div>
<div class="confetti"></div>
<div class="confetti"></div>
<div class="confetti"></div>
<div class="position-relative z-index-1">
<div class="feedback-bubble bg-gradient-success text-white p-4 rounded-circle d-inline-flex flex-column align-items-center justify-content-center" style="width:180px;height:180px;">
<i class="fas fa-trophy fa-3x mb-3"></i>
<h5 class="mb-0">Performance!</h5>
</div>
<div class="mt-4">
<h3 class="text-success">Optimisation de risque d√©tect√©e!</h3>
<p class="lead">72 ‚Üí 58 <span class="text-success">(-14 points)</span></p>
<button class="btn btn-success btn-lg mt-2">
<i class="fas fa-share-alt me-2"></i>Partager cette am√©lioration
</button>
</div>
</div>
</div>
</div>
</div>
<div class="col-lg-12 mt-4">
<div class="card border-0 shadow-sm">
<div class="card-body text-center p-4 position-relative overflow-hidden">
<div class="confetti"></div>
<div class="confetti"></div>
<div class="confetti"></div>
<div class="confetti"></div>
<div class="confetti"></div>
<div class="position-relative z-index-1">
<div class="feedback-bubble bg-gradient-success text-white p-4 rounded-circle d-inline-flex flex-column align-items-center justify-content-center" style="width:180px;height:180px;">
<i class="fas fa-party-horn fa-3x mb-3"></i>
<h5 class="mb-0">Bravo!</h5>
</div>
<div class="mt-4">
<h3 class="text-success">Votre score s'est am√©lior√©!</h3>
<p class="lead">72 ‚Üí 58 <span class="text-success">(-14 points)</span></p>
<button class="btn btn-success btn-lg mt-2">
<i class="fas fa-share me-2"></i>Partager ce r√©sultat
</button>
</div>
</div>
</div>
</div>
</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded',function(){
const morphContainer=document.getElementById('morphing-container');
let morphAngle=0;
function morphGlassEffect(){
morphAngle+=0.002;
const x=Math.sin(morphAngle)*0.5;
const y=Math.cos(morphAngle*1.3)*0.5;
morphContainer.style.transform=`perspective(1000px) rotateX(${x}deg) rotateY(${y}deg)`;
requestAnimationFrame(morphGlassEffect);
}
morphGlassEffect();
const titleWords=document.querySelectorAll('.title-word');
titleWords.forEach((word,i)=>{
word.style.animation=`floatText 3s ease-in-out infinite ${i*0.3}s`;
});
const ctx=document.getElementById('riskGauge').getContext('2d');
let currentScore=0;
const targetScore=72;
const gaugeChart=new Chart(ctx,{
type:'doughnut',
data:{
datasets:[{
data:[currentScore,100-currentScore],
backgroundColor:[
getRiskColor(currentScore),
'#e9ecef'
],
borderWidth:0
}]
},
options:{
circumference:180,
rotation:-90,
cutout:'80%',
plugins:{legend:{display:false}},
tooltips:{enabled:false}
}
});
function animateScore(){
if(currentScore<targetScore){
currentScore+=1;
document.getElementById('riskScoreValue').textContent=currentScore;
gaugeChart.data.datasets[0].data=[currentScore,100-currentScore];
gaugeChart.data.datasets[0].backgroundColor[0]=getRiskColor(currentScore);
gaugeChart.update();
setTimeout(animateScore,30);
}
}
setTimeout(animateScore,1000);
function getRiskColor(score){
if(score>75)return'#dc3545';
if(score>50)return'#fd7e14';
if(score>25)return'#ffc107';
return'#28a745';
}
function animateOnScroll(){
const elements=document.querySelectorAll('[data-aos]');
elements.forEach(el=>{
const rect=el.getBoundingClientRect();
const isVisible=rect.top<window.innerHeight&&rect.bottom>=0;
if(isVisible){
const animation=el.getAttribute('data-aos');
el.style.opacity='1';
if(animation==='fade-up')el.style.transform='translateY(0)';
if(animation==='fade-left')el.style.transform='translateX(0)';
if(animation==='fade-right')el.style.transform='translateX(0)';
}
});
}
window.addEventListener('scroll',animateOnScroll);
animateOnScroll();
const ctx2=document.getElementById('riskGauge2').getContext('2d');
const riskScore=72;
new Chart(ctx2,{
type:'doughnut',
data:{
datasets:[{
data:[riskScore,100-riskScore],
backgroundColor:[
getRiskColor(riskScore),
'#e9ecef'
],
borderWidth:0
}]
},
options:{
circumference:180,
rotation:-90,
cutout:'80%',
plugins:{legend:{display:false}},
tooltips:{enabled:false}
}
});
document.getElementById('riskScoreValue2').textContent=riskScore;
document.getElementById('riskLevel2').textContent=
riskScore>75?'Tr√®s √©lev√©':
riskScore>50?'√âlev√©':
riskScore>25?'Mod√©r√©':'Faible';
});
</script>
</body>
</html>