<nav style="background-color: #106861; color: white; padding: 0.5rem 1rem; border-bottom: 1px solid #145c36;" class="navbar navbar-expand-md">
    <ul class="navbar-nav float-start me-auto">
      <li class="nav-item">
        <a class="nav-link waves-effect waves-dark" href="/admin/contracts" style="color: white;">Contracts</a>
      </li>
      <li class="nav-item">
        <a class="nav-link waves-effect waves-dark" href="/admin/contractAccounting" style="color: white;">ContractAccounting</a>
      </li>
      <li class="nav-item">
        <a class="nav-link waves-effect waves-dark" href="/admin/contractHolder" style="color: white;">ContractHolder</a>
      </li>
      <li class="nav-item">
        <a class="nav-link waves-effect waves-dark" href="/admin/reporting" style="color: white;">Reporting</a>
      </li>
    </ul>
     <!-- ============================================================== -->
     <ul class="navbar-nav float-end">
        <!-- ============================================================== -->
        <!-- User profile and search -->
        <!-- ============================================================== -->
        <li class="nav-item" ngbDropdown placement="bottom-end">
          <a
            ngbDropdownToggle
            class="nav-link waves-effect waves-dark pro-pic"
            href="javascript:void(0)"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            
            <span class="ms-2" style="color: white;">Login</span>
          </a>
          <div class="dropdown-menu-right" ngbDropdownMenu>
            <a class="dropdown-item" href="javascript:void(0)"> My Profile</a>
            <a class="dropdown-item" href="javascript:void(0)"> My Balance</a>
            <a class="dropdown-item" href="javascript:void(0)"> Inbox</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="javascript:void(0)"> Account Setting</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="javascript:void(0)"> Logout</a>
          </div>
        </li>
        <!-- ============================================================== -->
        <!-- User profile and search -->
        <!-- ============================================================== -->
      </ul>
  </nav>
  <p class="mb-4 ">ðŸ“Š Dashboard Reporting</p>

  <div class="container mt-5">
    <div class="row g-4">
  
      <!-- Total Contracts -->
      <div class="col-md-6" *ngIf="totalContracts !== undefined">
        <div class="card text-white bg-primary text-center shadow-lg rounded-4 h-100 hover-zoom">
          <div class="card-body py-4">
            <div class="mb-3 fs-1">ðŸ“„</div>
            <h5 class="card-title fs-4">Nombre total de contrats</h5>
            <p class="card-text fs-2">{{ totalContracts }}</p>
          </div>
        </div>
      </div>
  
      <!-- Total Capital -->
      <div class="col-md-6" *ngIf="totalCapital !== undefined">
        <div class="card text-white bg-success text-center shadow-lg rounded-4 h-100 hover-zoom">
          <div class="card-body py-4">
            <div class="mb-3 fs-1">ðŸ’°</div>
            <h5 class="card-title fs-4">Capital Total</h5>
            <p class="card-text fs-2">{{ totalCapital | number:'1.2-2' }} TND</p>
          </div>
        </div>
      </div>
  
      <!-- Total Provisions -->
      <div class="col-md-6" *ngIf="totalProvisions !== undefined">
        <div class="card text-white bg-warning text-center shadow-lg rounded-4 h-100 hover-zoom">
          <div class="card-body py-4">
            <div class="mb-3 fs-1">ðŸ“¦</div>
            <h5 class="card-title fs-4">Total Provisions</h5>
            <p class="card-text fs-2">{{ totalProvisions | number:'1.2-2' }} TND</p>
          </div>
        </div>
      </div>
  
      <!-- Average Sinistralite -->
      <div class="col-md-6" *ngIf="averageSinistralite !== undefined">
        <div class="card text-white bg-danger text-center shadow-lg rounded-4 h-100 hover-zoom">
          <div class="card-body py-4">
            <div class="mb-3 fs-1">ðŸ“ˆ</div>
            <h5 class="card-title fs-4">Moyenne Taux SinistralitÃ©</h5>
            <p class="card-text fs-2">{{ averageSinistralite | percent:'1.1-1' }}</p>
          </div>
        </div>
      </div>
  
      <!-- Pie Chart and Distribution -->
      <div class="col-md-12" *ngIf="contractTypeDistribution">
        <div class="card shadow-lg rounded-4 h-100 hover-zoom">
          <div class="card-body py-5">
            <h5 class="card-title fs-4 text-center mb-4">ðŸ§© RÃ©partition des Contrats</h5>
            
            <div class="mb-3 text-center">
              <div *ngFor="let type of contractTypeDistribution | keyvalue" class="small">
                <strong>{{ type.key }}</strong> : {{ type.value }}
              </div>
            </div>
  
            <div style="display: block; width: 100%; height: 350px;">
              <canvas baseChart
                      [data]="pieChartData"
                      [options]="pieChartOptions"
                      [type]="pieChartType">
              </canvas>
            </div>
          </div>
        </div>
      </div>
  
    </div>
    <div class="container mt-5">
        <div class="card shadow-lg rounded-4 p-4 hover-zoom">
          <h5 class="text-center mb-4">ðŸ“ˆ Ã‰volution ComparÃ©e de l'Assurance (2024 vs 2025)</h5>
      
          <canvas baseChart
                  [data]="lineChartData"
                  [options]="lineChartOptions"
                  [type]="lineChartType"
                  [plugins]="[zoomPlugin]">
          </canvas>
        </div>
      </div>
      
      
    <!-- Download Button -->
    <div class="text-center mt-5">
      <button class="btn btn-primary btn-lg rounded-pill shadow-lg hover-zoom" (click)="downloadReport()">
        ðŸ“¥ TÃ©lÃ©charger Rapport Excel
      </button>
    </div>
  </div>

  
